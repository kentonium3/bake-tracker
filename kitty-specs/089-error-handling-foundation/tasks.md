# Work Packages: Error Handling Foundation

**Inputs**: Design documents from `/kitty-specs/089-error-handling-foundation/`
**Prerequisites**: plan.md (required), spec.md (user stories), research.md, data-model.md

**Tests**: Unit tests for error handler and exception hierarchy only (core infrastructure).

**Organization**: Fine-grained subtasks (`Txxx`) roll up into work packages (`WPxx`). Each work package must be independently deliverable and testable.

**Prompt Files**: Each work package references a matching prompt file in `/tasks/` generated by `/spec-kitty.tasks`.

## Subtask Format: `[Txxx] [P?] Description`
- **[P]** indicates the subtask can proceed in parallel (different files/components).
- Include precise file paths or modules.

---

## Work Package WP01: Exception Hierarchy Consolidation (Priority: P0) üéØ Foundation

**Goal**: Consolidate exception hierarchy under single `ServiceError` base with correlation_id support and HTTP status code mapping.
**Independent Test**: All exceptions in `src/services/exceptions.py` inherit from `ServiceError` and have `http_status_code` attribute.
**Prompt**: `/tasks/WP01-exception-hierarchy-consolidation.md`
**Estimated Size**: ~400 lines

### Included Subtasks
- [x] T001 Update `ServiceError` base class with correlation_id and http_status_code support
- [x] T002 Create optional category base classes (NotFoundError, ValidationError, ConflictError, BusinessRuleError)
- [x] T003 Migrate legacy `ServiceException` subclasses to inherit from `ServiceError`
- [x] T004 Fix duplicate `MaterialInventoryItemNotFoundError` definition (lines 176 & 261)
- [x] T005 Add comprehensive docstrings with usage examples to all exceptions
- [x] T006 Deprecate `ServiceException` class with deprecation warning

### Implementation Notes
- Update `ServiceError.__init__` to accept `correlation_id: Optional[str] = None`
- Add `http_status_code: int = 500` class attribute to `ServiceError`
- Category bases are optional but recommended for cleaner HTTP mapping
- Use `warnings.warn()` for deprecation of `ServiceException`
- Do NOT change exception import paths yet (UI files still import them)

### Parallel Opportunities
- T002, T003, T004 can run in parallel once T001 is complete

### Dependencies
- None (starting package).

### Risks & Mitigations
- Breaking existing exception handling ‚Üí maintain backward compatibility, don't change signatures
- Import errors ‚Üí keep all exceptions in same location

---

## Work Package WP02: Service-Local Exception Fixes (Priority: P0)

**Goal**: Update 60+ service-local exception classes to inherit from `ServiceError` instead of bare `Exception`.
**Independent Test**: `issubclass(ExceptionClass, ServiceError)` returns True for all service exceptions.
**Prompt**: `/tasks/WP02-service-local-exception-fixes.md`
**Estimated Size**: ~450 lines

### Included Subtasks
- [x] T007 [P] Update `batch_production_service.py` exceptions (7 classes)
- [x] T008 [P] Update `assembly_service.py` exceptions (7 classes)
- [x] T009 [P] Update `production_service.py` exceptions (6 classes)
- [x] T010 [P] Update `event_service.py` exceptions (7 classes)
- [x] T011 [P] Update `planning/planning_service.py` exceptions (5 classes)
- [x] T012 [P] Update `package_service.py` and `packaging_service.py` exceptions (12 classes)
- [x] T013 [P] Update remaining services: `material_*`, `fk_resolver_service`, `recipient_service`, `catalog_import_service`

### Implementation Notes
- Import `ServiceError` from `src.services.exceptions`
- Change `class XxxError(Exception):` to `class XxxError(ServiceError):`
- Add `http_status_code` class attribute based on exception type:
  - NotFound ‚Üí 404
  - Validation/Invalid ‚Üí 400
  - InUse/Conflict ‚Üí 409
  - Insufficient ‚Üí 422
- Preserve existing `__init__` signatures and attributes

### Parallel Opportunities
- All subtasks can run in parallel (different files)

### Dependencies
- Depends on WP01 (ServiceError base must be updated first)

### Risks & Mitigations
- Missing exception classes ‚Üí grep for `class.*Error.*Exception` to find all
- Circular imports ‚Üí import ServiceError at top, not locally

---

## Work Package WP03: Centralized Error Handler (Priority: P0)

**Goal**: Create centralized UI error handler that converts exceptions to user-friendly messages with logging.
**Independent Test**: `handle_error(SomeException())` returns user-friendly tuple and logs technical details.
**Prompt**: `/tasks/WP03-centralized-error-handler.md`
**Estimated Size**: ~500 lines

### Included Subtasks
- [x] T014 Create `src/ui/utils/__init__.py` and `error_handler.py` module structure
- [x] T015 Implement `handle_error()` main function with exception type dispatch
- [x] T016 Implement `_get_user_message()` with complete exception type mapping
- [x] T017 Implement `_log_error()` with structured logging (correlation_id, context)
- [x] T018 Create unit tests in `src/tests/unit/test_error_handler.py`

### Implementation Notes
- Handler must work with both `ServiceError` subclasses and bare `Exception`
- User messages must never expose Python exception names or stack traces
- Log at ERROR level for ServiceError, EXCEPTION level for unexpected errors
- Return `Tuple[str, str]` of (title, message) for UI display
- Use `messagebox.showerror()` when `show_dialog=True`

### Parallel Opportunities
- T16, T17 can run in parallel once T15 establishes the interface

### Dependencies
- Depends on WP01, WP02 (needs complete exception hierarchy)

### Risks & Mitigations
- Missing exception mappings ‚Üí add fallback for unmapped ServiceError subclasses
- Logging failures ‚Üí wrap logging in try/except

---

## Work Package WP04: UI Migration - Core Tabs (Priority: P1) üéØ MVP

**Goal**: Update exception handling in highest-impact tabs: materials, inventory, planning.
**Independent Test**: Trigger errors in these tabs, verify user-friendly messages appear (no Python exceptions).
**Prompt**: `/tasks/WP04-ui-migration-core-tabs.md`
**Estimated Size**: ~400 lines

### Included Subtasks
- [x] T019 Update `src/ui/materials_tab.py` (31 `except Exception` occurrences)
- [ ] T020 Update `src/ui/inventory_tab.py` (20 occurrences)
- [ ] T021 Update `src/ui/planning_tab.py` (21 occurrences)

### Implementation Notes
- Import `handle_error` from `src.ui.utils.error_handler`
- Apply three-tier pattern: specific exceptions ‚Üí ServiceError ‚Üí Exception
- Replace `messagebox.showerror("Error", str(e))` with `handle_error(e, parent=self, operation="...")`
- Keep existing specific exception handlers where they add value (e.g., highlighting fields)

### Parallel Opportunities
- All three files can be updated in parallel

### Dependencies
- Depends on WP03 (needs centralized error handler)

### Risks & Mitigations
- Different error display patterns ‚Üí review current pattern before replacing
- Missing imports ‚Üí add ServiceError import if catching specifically

---

## Work Package WP05: UI Migration - Recipes & Production (Priority: P1)

**Goal**: Update exception handling in recipe and production-related UI files.
**Independent Test**: Create recipe with invalid data, verify user-friendly validation message.
**Prompt**: `/tasks/WP05-ui-migration-recipes-production.md`
**Estimated Size**: ~350 lines

### Included Subtasks
- [ ] T022 [P] Update `src/ui/recipes_tab.py` (11 occurrences)
- [ ] T023 [P] Update `src/ui/forms/recipe_form.py` (10 occurrences)
- [ ] T024 [P] Update `src/ui/production_dashboard_tab.py` (1 occurrence)
- [ ] T025 [P] Update `src/ui/forms/record_production_dialog.py` (3 occurrences)

### Implementation Notes
- Recipe forms likely have ValidationError catches - preserve field highlighting
- Production dialogs may have InsufficientInventory catches - ensure quantity context shown
- Use `operation=` parameter to describe what was attempted

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Recipe validation has custom handling ‚Üí preserve existing ValidationError handlers

---

## Work Package WP06: UI Migration - Products & Finished Goods (Priority: P1)

**Goal**: Update exception handling in product and finished goods UI files.
**Independent Test**: Attempt to delete product in use, verify "in use" message with dependency count.
**Prompt**: `/tasks/WP06-ui-migration-products-finished-goods.md`
**Estimated Size**: ~400 lines

### Included Subtasks
- [ ] T026 [P] Update `src/ui/products_tab.py` (12 occurrences)
- [ ] T027 [P] Update `src/ui/finished_goods_tab.py` (7 occurrences)
- [ ] T028 [P] Update `src/ui/finished_units_tab.py` (6 occurrences)
- [ ] T029 [P] Update `src/ui/bundles_tab.py` (7 occurrences)

### Implementation Notes
- Products tab likely has ProductInUse, ProductNotFound exceptions
- Finished goods may have CircularReferenceError, InsufficientInventoryError
- Preserve dependency count display for "in use" errors

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Custom error display for dependencies ‚Üí check for `.dependencies` or `.details` attribute display

---

## Work Package WP07: UI Migration - Events & Recipients (Priority: P1)

**Goal**: Update exception handling in event and recipient management UI.
**Independent Test**: Trigger event state error, verify "plan is locked" message.
**Prompt**: `/tasks/WP07-ui-migration-events-recipients.md`
**Estimated Size**: ~350 lines

### Included Subtasks
- [ ] T030 [P] Update `src/ui/events_tab.py` (5 occurrences)
- [ ] T031 [P] Update `src/ui/event_detail_window.py` (19 occurrences)
- [ ] T032 [P] Update `src/ui/recipients_tab.py` (6 occurrences)
- [ ] T033 [P] Update `src/ui/forms/event_planning_form.py` (2 occurrences)
- [ ] T034 [P] Update `src/ui/tabs/event_status_tab.py` (2 occurrences)

### Implementation Notes
- Event files likely have PlanStateError catches
- Recipient tab may have RecipientHasAssignmentsError
- Event detail has highest occurrence count - review carefully

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Event detail is complex (19 occurrences) ‚Üí may need careful review

---

## Work Package WP08: UI Migration - Forms Part 1 (Priority: P2)

**Goal**: Update exception handling in product/supplier forms.
**Independent Test**: Submit form with invalid data, verify validation message.
**Prompt**: `/tasks/WP08-ui-migration-forms-part1.md`
**Estimated Size**: ~400 lines

### Included Subtasks
- [ ] T035 [P] Update `src/ui/forms/add_product_dialog.py` (9 occurrences)
- [ ] T036 [P] Update `src/ui/forms/product_detail_dialog.py` (6 occurrences)
- [ ] T037 [P] Update `src/ui/forms/package_form.py` (6 occurrences)
- [ ] T038 [P] Update `src/ui/forms/manage_suppliers_dialog.py` (6 occurrences)
- [ ] T039 [P] Update `src/ui/forms/bundle_form.py` (1 occurrence)

### Implementation Notes
- Forms commonly have ValidationError handlers
- Product dialogs may have SlugAlreadyExists handlers
- Supplier dialog may have SupplierNotFoundError handlers

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Form validation feedback ‚Üí preserve field-level error display if present

---

## Work Package WP09: UI Migration - Dialogs (Priority: P2)

**Goal**: Update exception handling in purchase and material dialogs.
**Independent Test**: Trigger purchase error, verify user-friendly message.
**Prompt**: `/tasks/WP09-ui-migration-dialogs.md`
**Estimated Size**: ~400 lines

### Included Subtasks
- [ ] T040 [P] Update `src/ui/dialogs/add_purchase_dialog.py` (7 occurrences)
- [ ] T041 [P] Update `src/ui/dialogs/edit_purchase_dialog.py` (5 occurrences)
- [ ] T042 [P] Update `src/ui/dialogs/purchase_details_dialog.py` (1 occurrence)
- [ ] T043 [P] Update `src/ui/dialogs/upc_resolution_dialog.py` (4 occurrences)
- [ ] T044 [P] Update `src/ui/dialogs/material_product_popup.py` (3 occurrences)
- [ ] T045 [P] Update `src/ui/dialogs/material_unit_dialog.py` (2 occurrences)
- [ ] T046 [P] Update `src/ui/dialogs/material_adjustment_dialog.py` (1 occurrence)

### Implementation Notes
- Purchase dialogs may have PurchaseNotFound, SupplierNotFoundError handlers
- UPC resolution has unique error handling needs
- Material dialogs have various material-specific errors

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- UPC dialog has special handling ‚Üí preserve barcode-specific error messages

---

## Work Package WP10: UI Migration - Dashboard & Remaining Tabs (Priority: P2)

**Goal**: Update exception handling in dashboards and remaining tabs.
**Independent Test**: Dashboard loads without showing Python exceptions on error.
**Prompt**: `/tasks/WP10-ui-migration-dashboard-remaining.md`
**Estimated Size**: ~450 lines

### Included Subtasks
- [ ] T047 [P] Update `src/ui/dashboard_tab.py` (5 occurrences)
- [ ] T048 [P] Update `src/ui/ingredients_tab.py` (10 occurrences)
- [ ] T049 [P] Update `src/ui/packages_tab.py` (7 occurrences)
- [ ] T050 [P] Update `src/ui/dashboards/catalog_dashboard.py` (1 occurrence)
- [ ] T051 [P] Update `src/ui/dashboards/observe_dashboard.py` (2 occurrences)
- [ ] T052 [P] Update `src/ui/dashboards/plan_dashboard.py` (2 occurrences)
- [ ] T053 [P] Update `src/ui/dashboards/purchase_dashboard.py` (3 occurrences)
- [ ] T054 [P] Update `src/ui/dashboards/make_dashboard.py` (4 occurrences)
- [ ] T055 [P] Update `src/ui/dashboards/base_dashboard.py` (1 occurrence)

### Implementation Notes
- Dashboards aggregate data - errors should not crash the entire view
- Ingredients tab has IngredientNotFoundBySlug, IngredientInUse handlers
- Consider graceful degradation for dashboard components

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Dashboard errors should show partial data ‚Üí consider try/except per component

---

## Work Package WP11: UI Migration - Remaining Forms & Components (Priority: P2)

**Goal**: Update exception handling in remaining UI forms and components.
**Independent Test**: All remaining forms show user-friendly errors.
**Prompt**: `/tasks/WP11-ui-migration-remaining-forms.md`
**Estimated Size**: ~350 lines

### Included Subtasks
- [ ] T056 [P] Update `src/ui/forms/finished_unit_form.py` (1 occurrence)
- [ ] T057 [P] Update `src/ui/forms/finished_good_detail.py` (1 occurrence)
- [ ] T058 [P] Update `src/ui/forms/finished_unit_detail.py` (1 occurrence)
- [ ] T059 [P] Update `src/ui/forms/record_assembly_dialog.py` (3 occurrences)
- [ ] T060 [P] Update `src/ui/forms/assignment_form.py` (2 occurrences)
- [ ] T061 [P] Update `src/ui/forms/ingredient_form.py` (1 occurrence)
- [ ] T062 [P] Update `src/ui/forms/variant_creation_dialog.py` (1 occurrence)

### Implementation Notes
- These are low-occurrence files - straightforward updates
- Assembly dialog may have InsufficientFinishedUnitError handlers
- Assignment form may have DuplicateAssignmentError handlers

### Parallel Opportunities
- All files can be updated in parallel

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Low risk - small number of occurrences per file

---

## Work Package WP12: Service Layer & Infrastructure Fixes (Priority: P2)

**Goal**: Update exception handling in service layer and infrastructure code.
**Independent Test**: Import/export operations show user-friendly errors.
**Prompt**: `/tasks/WP12-service-layer-infrastructure.md`
**Estimated Size**: ~500 lines

### Included Subtasks
- [ ] T063 Update `src/services/import_export_service.py` (35 occurrences)
- [ ] T064 Update `src/ui/import_export_dialog.py` (11 occurrences)
- [ ] T065 [P] Update `src/utils/import_export_cli.py` (25 occurrences)
- [ ] T066 [P] Update `src/utils/backup_validator.py` (6 occurrences)
- [ ] T067 [P] Update `src/ui/catalog_import_dialog.py` (1 occurrence)
- [ ] T068 [P] Update `src/main.py` (3 occurrences)
- [ ] T069 [P] Update remaining services with generic catches

### Implementation Notes
- import_export_service is the largest file (35 occurrences) - handle carefully
- Many catches here are legitimate for handling file I/O errors
- CLI tools may want different error handling (print vs messagebox)
- Distinguish between recoverable and fatal errors

### Parallel Opportunities
- T065-T69 can run in parallel after T063/T064

### Dependencies
- Depends on WP03

### Risks & Mitigations
- Import/export is critical path ‚Üí test thoroughly after changes
- CLI tools need text output not GUI ‚Üí adapt handler for CLI context

---

## Work Package WP13: Developer Documentation (Priority: P3)

**Goal**: Create comprehensive developer documentation for exception handling patterns.
**Independent Test**: New developer can understand and apply patterns from documentation alone.
**Prompt**: `/tasks/WP13-developer-documentation.md`
**Estimated Size**: ~300 lines

### Included Subtasks
- [ ] T070 Create `docs/design/error_handling_guide.md` with overview and principles
- [ ] T071 Document all exception types with when to raise each
- [ ] T072 Document three-tier pattern with before/after code examples
- [ ] T073 Document HTTP status code mapping for web migration
- [ ] T074 Add quick reference checklist for new service functions

### Implementation Notes
- Follow existing documentation style in `docs/design/`
- Include code examples for common scenarios
- Reference constitution principle VI.A
- Include troubleshooting section for common mistakes

### Parallel Opportunities
- T071-T074 can be drafted in parallel, then integrated

### Dependencies
- Depends on WP01-WP12 (document what was implemented)

### Risks & Mitigations
- Documentation drift ‚Üí link to actual code, not copied snippets

---

## Work Package WP14: Tests & Final Validation (Priority: P3)

**Goal**: Create exception hierarchy tests and validate pattern consistency.
**Independent Test**: All tests pass, no generic Exception catches remain unlogged.
**Prompt**: `/tasks/WP14-tests-final-validation.md`
**Estimated Size**: ~350 lines

### Included Subtasks
- [ ] T075 Create `src/tests/unit/test_exceptions.py` with hierarchy tests
- [ ] T076 Test all exceptions inherit from ServiceError
- [ ] T077 Test http_status_code attribute on all exceptions
- [ ] T078 Validate no unlogged generic Exception catches remain
- [ ] T079 Run full test suite and fix any regressions

### Implementation Notes
- Use `inspect` module to enumerate all exception classes
- Test inheritance: `assert issubclass(ExceptionClass, ServiceError)`
- Grep for `except Exception` without logging as anti-pattern
- Verify centralized handler coverage for all exception types

### Parallel Opportunities
- T075-T077 can run in parallel

### Dependencies
- Depends on WP01-WP12 (test what was implemented)

### Risks & Mitigations
- Missing exception classes ‚Üí dynamic discovery via imports
- Test failures ‚Üí prioritize fixing over expanding tests

---

## Dependency & Execution Summary

- **Sequence**: WP01 ‚Üí WP02 ‚Üí WP03 ‚Üí (WP04-WP12 in parallel) ‚Üí WP13 ‚Üí WP14
- **Parallelization**: WP04-WP12 can all run in parallel once WP03 completes
- **MVP Scope**: WP01 + WP02 + WP03 + WP04 (exception hierarchy, handler, core tabs)

### Dependency Graph

```
WP01 (Exception Hierarchy)
  ‚îÇ
  ‚ñº
WP02 (Service-Local Fixes)
  ‚îÇ
  ‚ñº
WP03 (Error Handler)
  ‚îÇ
  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ                                                                 ‚îÇ
  ‚ñº         ‚ñº         ‚ñº         ‚ñº         ‚ñº         ‚ñº         ‚ñº     ‚ñº
WP04      WP05      WP06      WP07      WP08      WP09      WP10  WP11  WP12
(Core)    (Recipe)  (Prods)   (Events)  (Forms1)  (Dialogs) (Dash) (Forms2)(Svc)
  ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ         ‚îÇ     ‚îÇ     ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                        ‚îÇ
                                        ‚ñº
                                      WP13 (Documentation)
                                        ‚îÇ
                                        ‚ñº
                                      WP14 (Validation)
```

---

## Subtask Index (Reference)

| Subtask ID | Summary | Work Package | Priority | Parallel? |
|------------|---------|--------------|----------|-----------|
| T001 | Update ServiceError base class | WP01 | P0 | No |
| T002 | Create category base classes | WP01 | P0 | Yes |
| T003 | Migrate ServiceException subclasses | WP01 | P0 | Yes |
| T004 | Fix duplicate MaterialInventoryItemNotFoundError | WP01 | P0 | Yes |
| T005 | Add docstrings to all exceptions | WP01 | P0 | Yes |
| T006 | Deprecate ServiceException | WP01 | P0 | Yes |
| T007 | Update batch_production_service exceptions | WP02 | P0 | Yes |
| T008 | Update assembly_service exceptions | WP02 | P0 | Yes |
| T009 | Update production_service exceptions | WP02 | P0 | Yes |
| T010 | Update event_service exceptions | WP02 | P0 | Yes |
| T011 | Update planning_service exceptions | WP02 | P0 | Yes |
| T012 | Update package/packaging service exceptions | WP02 | P0 | Yes |
| T013 | Update remaining service exceptions | WP02 | P0 | Yes |
| T014 | Create error_handler module structure | WP03 | P0 | No |
| T015 | Implement handle_error() function | WP03 | P0 | No |
| T016 | Implement _get_user_message() | WP03 | P0 | Yes |
| T017 | Implement _log_error() | WP03 | P0 | Yes |
| T018 | Create error handler unit tests | WP03 | P0 | Yes |
| T019 | Update materials_tab.py | WP04 | P1 | Yes |
| T020 | Update inventory_tab.py | WP04 | P1 | Yes |
| T021 | Update planning_tab.py | WP04 | P1 | Yes |
| T022 | Update recipes_tab.py | WP05 | P1 | Yes |
| T023 | Update forms/recipe_form.py | WP05 | P1 | Yes |
| T024 | Update production_dashboard_tab.py | WP05 | P1 | Yes |
| T025 | Update forms/record_production_dialog.py | WP05 | P1 | Yes |
| T026 | Update products_tab.py | WP06 | P1 | Yes |
| T027 | Update finished_goods_tab.py | WP06 | P1 | Yes |
| T028 | Update finished_units_tab.py | WP06 | P1 | Yes |
| T029 | Update bundles_tab.py | WP06 | P1 | Yes |
| T030 | Update events_tab.py | WP07 | P1 | Yes |
| T031 | Update event_detail_window.py | WP07 | P1 | Yes |
| T032 | Update recipients_tab.py | WP07 | P1 | Yes |
| T033 | Update forms/event_planning_form.py | WP07 | P1 | Yes |
| T034 | Update tabs/event_status_tab.py | WP07 | P1 | Yes |
| T035 | Update forms/add_product_dialog.py | WP08 | P2 | Yes |
| T036 | Update forms/product_detail_dialog.py | WP08 | P2 | Yes |
| T037 | Update forms/package_form.py | WP08 | P2 | Yes |
| T038 | Update forms/manage_suppliers_dialog.py | WP08 | P2 | Yes |
| T039 | Update forms/bundle_form.py | WP08 | P2 | Yes |
| T040 | Update dialogs/add_purchase_dialog.py | WP09 | P2 | Yes |
| T041 | Update dialogs/edit_purchase_dialog.py | WP09 | P2 | Yes |
| T042 | Update dialogs/purchase_details_dialog.py | WP09 | P2 | Yes |
| T043 | Update dialogs/upc_resolution_dialog.py | WP09 | P2 | Yes |
| T044 | Update dialogs/material_product_popup.py | WP09 | P2 | Yes |
| T045 | Update dialogs/material_unit_dialog.py | WP09 | P2 | Yes |
| T046 | Update dialogs/material_adjustment_dialog.py | WP09 | P2 | Yes |
| T047 | Update dashboard_tab.py | WP10 | P2 | Yes |
| T048 | Update ingredients_tab.py | WP10 | P2 | Yes |
| T049 | Update packages_tab.py | WP10 | P2 | Yes |
| T050 | Update dashboards/catalog_dashboard.py | WP10 | P2 | Yes |
| T051 | Update dashboards/observe_dashboard.py | WP10 | P2 | Yes |
| T052 | Update dashboards/plan_dashboard.py | WP10 | P2 | Yes |
| T053 | Update dashboards/purchase_dashboard.py | WP10 | P2 | Yes |
| T054 | Update dashboards/make_dashboard.py | WP10 | P2 | Yes |
| T055 | Update dashboards/base_dashboard.py | WP10 | P2 | Yes |
| T056 | Update forms/finished_unit_form.py | WP11 | P2 | Yes |
| T057 | Update forms/finished_good_detail.py | WP11 | P2 | Yes |
| T058 | Update forms/finished_unit_detail.py | WP11 | P2 | Yes |
| T059 | Update forms/record_assembly_dialog.py | WP11 | P2 | Yes |
| T060 | Update forms/assignment_form.py | WP11 | P2 | Yes |
| T061 | Update forms/ingredient_form.py | WP11 | P2 | Yes |
| T062 | Update forms/variant_creation_dialog.py | WP11 | P2 | Yes |
| T063 | Update import_export_service.py | WP12 | P2 | No |
| T064 | Update import_export_dialog.py | WP12 | P2 | No |
| T065 | Update utils/import_export_cli.py | WP12 | P2 | Yes |
| T066 | Update utils/backup_validator.py | WP12 | P2 | Yes |
| T067 | Update catalog_import_dialog.py | WP12 | P2 | Yes |
| T068 | Update main.py | WP12 | P2 | Yes |
| T069 | Update remaining services | WP12 | P2 | Yes |
| T070 | Create error_handling_guide.md | WP13 | P3 | No |
| T071 | Document exception types | WP13 | P3 | Yes |
| T072 | Document three-tier pattern | WP13 | P3 | Yes |
| T073 | Document HTTP status code mapping | WP13 | P3 | Yes |
| T074 | Add quick reference checklist | WP13 | P3 | Yes |
| T075 | Create test_exceptions.py | WP14 | P3 | No |
| T076 | Test ServiceError inheritance | WP14 | P3 | Yes |
| T077 | Test http_status_code attributes | WP14 | P3 | Yes |
| T078 | Validate no unlogged generic catches | WP14 | P3 | Yes |
| T079 | Run full test suite | WP14 | P3 | No |
